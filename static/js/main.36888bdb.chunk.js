(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(9),r=n.n(s),o=(n(14),n(3)),i=n.n(o),l=n(4),u=n(2),j=(n(16),"https://contactsaved.herokuapp.com"),d=(n(17),n(0)),m=function(e){var t=e.contact,n=e.setContacts,c=e.setEdit,a=e.setShowForm,s=e.setSuccessMessage,r=e.setErrorMessage,o=t._id,u=t.name,m=t.lastName,b=t.email,h=t.phone,p=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),s(""),e.prev=2,e.next=5,fetch("".concat(j,"/contacts/delete/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:e.sent.ok?(n((function(e){return e.filter((function(e){return e._id!==t}))})),s("Contact deleted successfully")):r("Couldn't delete the contact"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r("Couldn't delete the contact");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return Object(d.jsxs)("div",{className:"contact-card",children:[Object(d.jsx)("h3",{className:"info name",children:"".concat(O(u)," ").concat(O(m))}),Object(d.jsx)("label",{children:"Email:"}),Object(d.jsx)("div",{className:"info email",children:b}),Object(d.jsx)("label",{children:"Phone:"}),Object(d.jsx)("div",{className:"info phone",children:h}),Object(d.jsxs)("div",{className:"control-box",children:[Object(d.jsx)("div",{className:"edit-user",onClick:function(){c(t),a(!0)},children:Object(d.jsx)("i",{className:"fas fa-pen"})}),Object(d.jsx)("div",{className:"delete-user",onClick:function(){return p(o)},children:Object(d.jsx)("i",{className:"fas fa-trash-alt"})})]})]})},b=(n(19),function(e){var t=e.contactsList,n=e.setContacts,c=e.setEdit,a=e.setShowForm,s=e.setSuccessMessage,r=e.setErrorMessage;return Object(d.jsx)("div",{className:"contacts-list",children:t.map((function(e,t){return Object(d.jsx)(m,{contact:e,setContacts:n,setEdit:c,setShowForm:a,setSuccessMessage:s,setErrorMessage:r},t)}))})}),h=(n(20),function(e){var t=e.setSearchField,n=e.setShowForm;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("i",{className:"logo fas fa-users"}),Object(d.jsx)("input",{type:"text",className:"searchField",onChange:function(e){return t(e.target.value)},placeholder:"Search contact..."}),Object(d.jsx)("button",{className:"add-button",onClick:function(){return n(!0)},children:Object(d.jsx)("i",{className:"fas fa-user-plus"})})]})}),p=n(8),O=(n(21),function(e){var t=e.setContacts,n=e.contact,a=e.setShowForm,s=e.setEdit,r=Object(c.useState)(""),o=Object(u.a)(r,2),m=o[0],b=o[1],h=Object(c.useState)(""),O=Object(u.a)(h,2),f=O[0],x=O[1],v=Object(c.useState)(""),g=Object(u.a)(v,2),N=g[0],S=g[1],w=Object(c.useState)(""),C=Object(u.a)(w,2),y=C[0],k=C[1],E=Object(c.useState)(""),L=Object(u.a)(E,2),F=L[0],M=L[1],T=function(){var e=Object(l.a)(i.a.mark((function e(){var n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(""),""!==m&&""!==f&&""!==N&&""!==y){e.next=3;break}return e.abrupt("return",M("All fields required"));case 3:return n={name:m.trim(),lastName:f.trim(),email:N.toLowerCase().trim(),phone:y.trim()},e.prev=4,e.next=7,fetch("".concat(j,"/contacts/new"),{method:"POST",headers:{Accpet:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 7:return c=e.sent,e.next=10,c.json();case 10:(s=e.sent).message?M(s.message):(t((function(e){return[].concat(Object(p.a)(e),[s])})),a(!1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),M("Something went wrong.");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(i.a.mark((function e(c){var r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(""),""===(r={name:m.trim(),lastName:f.trim(),email:N.toLowerCase().trim(),phone:y.trim()}).name&&(r.name=n.name),""===r.lastName&&(r.lastName=n.lastName),""===r.email&&(r.email=n.email),""===r.phone&&(r.phone=n.phone),e.prev=6,e.next=9,fetch("".concat(j,"/contacts/edit/").concat(n._id),{method:"PUT",headers:{Accpet:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});case 9:return o=e.sent,e.next=12,o.json();case 12:(l=e.sent).message?M(l.message):(t((function(e){var t=e.map((function(e){return e._id===c?l:e}));return Object(p.a)(t)})),a(!1),s({})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),M("Something went wrong");case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"add-container",children:Object(d.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),n?A(n._id):T()},children:[Object(d.jsx)("div",{className:"close-form",onClick:function(){a(!1),n&&s({})},children:Object(d.jsx)("i",{className:"fas fa-times-circle"})}),Object(d.jsxs)("label",{children:["Name",n?null:"*"]}),Object(d.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},placeholder:n?n.name:null,maxLength:"20"}),Object(d.jsxs)("label",{children:["Last Name",n?null:"*"]}),Object(d.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)},placeholder:n?n.lastName:null,maxLength:"20"}),Object(d.jsxs)("label",{children:["Email",n?null:"*"]}),Object(d.jsx)("input",{type:"email",onChange:function(e){return S(e.target.value)},placeholder:n?n.email:null}),Object(d.jsxs)("label",{children:["Phone",n?null:"*"]}),Object(d.jsx)("input",{type:"text",onChange:function(e){return k(e.target.value)},placeholder:n?n.phone:null,maxLength:"50"}),n?null:Object(d.jsx)("div",{className:"required",children:"(*)Required"}),Object(d.jsx)("div",{className:"error-message",children:F}),Object(d.jsx)("button",{type:"submit",children:n?"SAVE":"ADD"})]})})}),f=(n(22),function(){return Object(d.jsx)("div",{className:"loading",children:Object(d.jsxs)("div",{className:"content-wrapper",children:[Object(d.jsx)("div",{className:"text",children:"Loading"}),Object(d.jsx)("div",{className:"spinner"})]})})}),x=(n(23),function(e){var t=e.message,n=e.type;return Object(d.jsx)("div",{className:"message-wrapper",children:Object(d.jsx)("div",{className:"message ".concat("error"===n?"error":"success"),children:t})})});var v=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),r=Object(u.a)(s,2),o=r[0],m=r[1],p=Object(c.useState)(!1),v=Object(u.a)(p,2),g=v[0],N=v[1],S=Object(c.useState)(""),w=Object(u.a)(S,2),C=w[0],y=w[1],k=Object(c.useState)(""),E=Object(u.a)(k,2),L=E[0],F=E[1],M=Object(c.useState)(!0),T=Object(u.a)(M,2),A=T[0],_=T[1],D=Object(c.useState)(""),J=Object(u.a)(D,2),P=J[0],q=J[1];Object(c.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/contacts"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n),_(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),_(!1),y("There was an error. Try again later."),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=n.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())||e.lastName.toLowerCase().includes(P.toLowerCase())}));return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{setSearchField:q,setShowForm:N}),g&&(0!==Object.keys(o).length?Object(d.jsx)(O,{setContacts:a,contact:o,setShowForm:N,setEdit:m}):Object(d.jsx)(O,{setContacts:a,setShowForm:N})),Object(d.jsxs)("div",{className:"contacts-box",children:[A?Object(d.jsx)(f,{}):0===n.length?Object(d.jsx)("div",{className:"no-contacts",children:"There are no contacts yet"}):Object(d.jsx)(b,{contactsList:U,setContacts:a,setEdit:m,setShowForm:N,setSuccessMessage:F,setErrorMessage:y}),C&&Object(d.jsx)(x,{message:C,type:"error"}),L&&Object(d.jsx)(x,{message:L,type:"success"})]})]})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.36888bdb.chunk.js.map